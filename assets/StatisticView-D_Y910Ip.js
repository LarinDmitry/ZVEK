import{k as Y,n as k,r as g,o as K,j as e,p as W,q as B,t as J,l as R,u as x,s as A,b as y,d as l,a as Q,g as C,a6 as b,h as X,f as ee,S as ne}from"./index-DtB4gKc9.js";import{B as ae}from"./BackBtn-DasEdVF2.js";import{P as _}from"./Paper-mBLX85wk.js";import{d as se,T as f,c as w,b as c,a as T}from"./TableRow-BvMjGZEI.js";import{T as N}from"./TableContainer-ChT3JThE.js";import{P as Z}from"./GlobalStyled-efFPbtuS.js";import{T as te}from"./Tooltip-Chpf8xTO.js";import"./arrow-BBFTMB5i.js";import"./useTheme-DDqWmBVX.js";import"./useTheme-BbxH6XOB.js";import"./useSlot-CEuT6kIc.js";import"./ownerDocument-DW-IO8s5.js";function ie(n){return Y("MuiTableHead",n)}k("MuiTableHead",["root"]);const re=n=>{const{classes:a}=n;return J({root:["root"]},ie,a)},oe=W("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(n,a)=>a.root})({display:"table-header-group"}),le={variant:"head"},G="thead",M=g.forwardRef(function(a,s){const t=K({props:a,name:"MuiTableHead"}),{className:d,component:r=G,...o}=t,i={...t,component:r},m=re(i);return e.jsx(se.Provider,{value:le,children:e.jsx(oe,{as:r,className:B(m.root,d),ref:s,role:r===G?null:"rowgroup",ownerState:i,...o})})}),ce={TOP_PLAYERS:"Top players of last ZVEKs",DAMAGE_DECREASE:"Damage decrease",ZERO_DAMAGE:"Zero damage at last ZVEK",JINNI_COEF:"Disbalance factor",FORMULA:"Equation:",WHERE:"where",COUNT:"— number of players.",DAMAGE:"— player`s damage",AVERAGE_DAMAGE:"— average damage",AVERAGE_COUNT:"arithmetic average",SMALL:"0.2−0.3: Damage is distributed fairly evenly.",MEDIUM:"0.5: Moderate inequality. There are a few players with significantly larger contributions, but the others also make a noticeable impact.",HARD:'0.8−1.0: Severe inequality. Damage is mainly concentrated among one or a few "top" players, while the rest have almost no impact on the overall result.',DATE:"Date",TOP:"Top 1,2,3",PERCENT:"% of overall damage",JINNI:"The Gini coefficient.",DAMAGE_GUILD:"Guild damage, B",CHANGES:"Changes",INCREASE:"Increased by",DECREASE:"Decreased by",DAY:"Day",LAST_ZVEK:"Last ZVEK Damage, T",ALL_PLAYERS_HAVE_DAMAGED:"All players damaged in all days"},de={TOP_PLAYERS:"Топ гравці останніх Звек",DAMAGE_DECREASE:"Зниження урону",ZERO_DAMAGE:"Нульовий урон останнього ЗВЕК",JINNI_COEF:"Коефіцієнт дисбалансу",FORMULA:"Формула:",WHERE:"де",COUNT:"— кількість гравців.",DAMAGE:"— пошкодження гравця",AVERAGE_DAMAGE:"— середні пошкодження",AVERAGE_COUNT:"середнє арифметичне",SMALL:"0.2−0.3: Шкода розподілена досить рівномірно.",MEDIUM:"0.5: Помірна нерівність. Є кілька гравців із помітно більшим внеском, та решта теж вносять відчутний внесок.",HARD:'0.8−1.0: Сильна нерівність. Шкода в основному зосереджена в одного чи кількох "топових" гравців, решта майже не впливає на загальний результат.',DATE:"Дата",TOP:"Топ 1,2,3",PERCENT:"% від усієї шкоди",JINNI:"Коефіцієнт Джинні",DAMAGE_GUILD:"Шкода гільдії, T",CHANGES:"Зміна",INCREASE:"Збільшився на",DECREASE:"Зменшився на",DAY:"День",LAST_ZVEK:"Урон прошлого ЗВЭК (млрд)",ALL_PLAYERS_HAVE_DAMAGED:"Всі гравці нанесли урон у всі дні"},me={TOP_PLAYERS:"Топ игроки последних Звэк",DAMAGE_DECREASE:"Снижение урона",ZERO_DAMAGE:"Нулевой дамаг последнего Звэк",JINNI_COEF:"Коэффициент дисбаланса",FORMULA:"Формула:",WHERE:"где",COUNT:"— количество игроков.",DAMAGE:"— урон игрока",AVERAGE_DAMAGE:"— средний урон",AVERAGE_COUNT:"среднее арифметическое",SMALL:"0.2−0.3: Урон распределён довольно равномерно.",MEDIUM:"0.5: Умеренное неравенство. Есть несколько игроков с заметно большим вкладом, но остальные тоже вносят ощутимый вклад.",HARD:'0.8−1.0: Сильное неравенство. Урон в основном сосредоточен у одного или нескольких "топовых" игроков, остальные почти не влияют на общий результат.',DATE:"Дата",TOP:"Топ 1,2,3",PERCENT:"% от всего урона",JINNI:"Коэффициент Джинни",DAMAGE_GUILD:"Урон гильдии, T",CHANGES:"Изменение",INCREASE:"Увеличился на",DECREASE:"Уменьшился на",DAY:"День",LAST_ZVEK:"Урон прошлого ЗВЭК (млрд)",ALL_PLAYERS_HAVE_DAMAGED:"Все игроки нанесли урон во все дни"},pe={en:ce,uk:de,ru:me},j=n=>pe[n],he=n=>n.reduce((a,s)=>a+n.reduce((t,d)=>t+Math.abs(s-d),0),0)/(2*n.length**2*n.reduce((a,s)=>a+s,0)/n.length),S=()=>R.reduce((n,{name:a,info:s})=>{var d;const t=(d=s[s.length-1])==null?void 0:d.damageByDay.reduce((r,o,i)=>(o===0&&r.push(i+1),r),[]);return t.length>0&&n.push({name:a,zeroDays:t}),n},[]),ge=()=>{const{language:n}=x(A),{DATE:a,DAMAGE_GUILD:s,CHANGES:t}=j(n),{NO_DATA:d,GUILD_RATING:r,NEWBIES:o}=y(n),i=[a,s,t,r,o];return e.jsx(ue,{component:_,children:e.jsxs(f,{children:[e.jsx(M,{children:e.jsx(v,{children:i.map(m=>e.jsx(Ee,{children:m},m))})}),e.jsx(w,{children:Q().map(({total:m,percentageChange:h,date:u},p)=>{var D;const E=p>0?h===null?d:`${h>0?">":"<"} ${Math.abs(h).toFixed(2)}%`:"—";return e.jsxs(v,{children:[e.jsx(c,{align:"center",children:u}),e.jsx(c,{align:"center",children:(m/1e12).toFixed(2)}),e.jsx(c,{align:"center",children:e.jsx(L,{value:h,children:E})}),e.jsx(c,{align:"center",children:e.jsx(L,{value:((D=C[p-1])==null?void 0:D.rate)-C[p].rate,children:C[p].rate})}),e.jsx(c,{align:"center",children:e.jsx(xe,{value:C[p].newbies,children:C[p].newbies})})]},`guild-${p}`)})})]})})},ue=l(N).withConfig({displayName:"DamageGrow__Container",componentId:"sc-mwprq4-0"})(["&.MuiPaper-root{margin:0 1rem;width:calc(100% - 2rem);}"]),v=l(T).withConfig({displayName:"DamageGrow__Row",componentId:"sc-mwprq4-1"})(["&.MuiTableRow-root{display:grid;grid-template-columns:repeat(5,1fr);}"]),Ee=l(c).withConfig({displayName:"DamageGrow__HCell",componentId:"sc-mwprq4-2"})(["&.MuiTableCell-root{",";text-align:center;}"],b),L=l.span.withConfig({displayName:"DamageGrow__ChangeText",componentId:"sc-mwprq4-3"})(["color:",";"],({value:n,theme:{colors:{red100:a,green100:s,gray100:t}}})=>n===null||n===0?t:n>0?s:n<0?a:t),xe=l.span.withConfig({displayName:"DamageGrow__NewbiesText",componentId:"sc-mwprq4-4"})(["color:",";"],({value:n,theme:{colors:{green100:a,gray100:s}}})=>n===0?s:a),Ae=()=>{const{language:n}=x(A),{LAST_ZVEK:a,DECREASE:s}=j(n),{NICKNAME:t,LATEST_ZVEK:d}=y(n),r=g.useMemo(()=>R.reduce((i,{name:m,info:h})=>{const[u,p]=h.slice(-2),E=(p.damage-u.damage)/u.damage*100;return E<0&&i.push({name:m,damageLastZvek:p.damage,damagePreviousZvek:u.damage,percentageChange:E}),i},[]),[]),o=g.useMemo(()=>[t,a,d,s],[t,a,d,s]);return e.jsx(je,{component:_,children:r.length?e.jsxs(f,{children:[e.jsx(M,{children:e.jsx(P,{children:o.map(i=>e.jsx(De,{align:"center",children:i},i))})}),e.jsx(w,{children:r.map(({name:i,damagePreviousZvek:m,damageLastZvek:h,percentageChange:u})=>{const p=`< на ${Math.abs(u).toFixed(2)}%`;return e.jsxs(P,{children:[e.jsx(c,{align:"center",children:i}),e.jsx(c,{align:"center",children:(m/1e9).toFixed(2)}),e.jsx(c,{align:"center",children:(h/1e9).toFixed(2)}),e.jsx(c,{align:"center",children:e.jsx(Ce,{percentage:u,children:p})})]},i)})})]}):e.jsx(_e,{children:"У всех игроков урон вырос"})})},je=l(N).withConfig({displayName:"DamageDecrease__Container",componentId:"sc-1rmczvu-0"})(["&.MuiPaper-root{margin:0 1rem;width:calc(100% - 2rem);}"]),P=l(T).withConfig({displayName:"DamageDecrease__Row",componentId:"sc-1rmczvu-1"})(["&.MuiTableRow-root{display:grid;grid-template-columns:repeat(4,1fr);}"]),De=l(c).withConfig({displayName:"DamageDecrease__HCell",componentId:"sc-1rmczvu-2"})(["&.MuiTableCell-root{",";text-align:center;}"],b),Ce=l.span.withConfig({displayName:"DamageDecrease__ChangeText",componentId:"sc-1rmczvu-3"})(["color:",";"],({percentage:n,theme:{colors:{red100:a,green100:s,gray100:t}}})=>n===null||n===0?t:n>0?s:a),_e=l.div.withConfig({displayName:"DamageDecrease__Plug",componentId:"sc-1rmczvu-4"})(["",";color:",";text-align:center;"],Z,({theme:n})=>n.colors.green100),fe=()=>{const{language:n}=x(A),{DATE:a,TOP:s,PERCENT:t}=j(n),d=[a,s,t];return e.jsx(we,{component:_,children:e.jsxs(f,{children:[e.jsx(M,{children:e.jsx(H,{children:d.map(r=>e.jsx(c,{align:"center",children:e.jsx("b",{children:r})},r))})}),e.jsx(w,{children:X(3).map(({date:r,topPlayers:o,topDamagePercentage:i},m)=>e.jsxs(H,{children:[e.jsx(c,{align:"center",children:r}),e.jsx(c,{align:"center",children:o.join(", ")}),e.jsxs(c,{align:"center",children:[i.toFixed(2),"%"]})]},m))})]})})},we=l(N).withConfig({displayName:"TopPlayers__Container",componentId:"sc-e2i8mp-0"})(["&.MuiPaper-root{margin:0 1rem;width:calc(100% - 2rem);}"]),H=l(T).withConfig({displayName:"TopPlayers__Row",componentId:"sc-e2i8mp-1"})(["&.MuiTableRow-root{display:grid;grid-template-columns:repeat(3,1fr);}"]),Te=()=>{const{language:n}=x(A),{DAY:a,ALL_PLAYERS_HAVE_DAMAGED:s}=j(n),{NICKNAME:t}=y(n),d=g.useMemo(()=>[t,a],[a,t]);return e.jsx(Ne,{component:_,children:S().length?e.jsxs(f,{children:[e.jsx(M,{children:e.jsx(V,{children:d.map(r=>e.jsx(Me,{children:r},r))})}),e.jsx(w,{children:S().map(({name:r,zeroDays:o})=>e.jsxs(V,{children:[e.jsx(c,{align:"center",children:r}),e.jsx(c,{align:"center",children:e.jsx(ye,{children:o.map(i=>`${i}й`).join(", ")})})]},r))})]}):e.jsx(Re,{children:s})})},Ne=l(N).withConfig({displayName:"ZeroDamage__Container",componentId:"sc-l5r2f1-0"})(["&.MuiPaper-root{margin:0 1rem;width:calc(100% - 2rem);}"]),V=l(T).withConfig({displayName:"ZeroDamage__Row",componentId:"sc-l5r2f1-1"})(["&.MuiTableRow-root{display:grid;grid-template-columns:repeat(2,1fr);}"]),Me=l(c).withConfig({displayName:"ZeroDamage__HCell",componentId:"sc-l5r2f1-2"})(["&.MuiTableCell-root{",";text-align:center;}"],b),Re=l.div.withConfig({displayName:"ZeroDamage__Plug",componentId:"sc-l5r2f1-3"})(["",";color:",";text-align:center;"],Z,({theme:n})=>n.colors.green100),ye=l.div.withConfig({displayName:"ZeroDamage__Skipped",componentId:"sc-l5r2f1-4"})(["color:",";"],({theme:n})=>n.colors.red100),be=()=>{const{language:n}=x(A),a=g.useMemo(()=>Array.from(new Set(R.flatMap(({info:o})=>o.map(({date:i})=>i)))).filter(o=>o!=="xx.xx"),[]),s=g.useMemo(()=>a.map(o=>({date:o,gini:he(R.map(({info:i})=>{var m;return((m=i.find(h=>h.date===o))==null?void 0:m.damage)||0}))})),[a]),{DATE:t,JINNI:d}=j(n),r=[t,d];return e.jsx(Ie,{component:_,children:e.jsxs(f,{children:[e.jsx(M,{children:e.jsx(O,{children:r.map(o=>e.jsx(Ge,{children:o},o))})}),e.jsx(w,{children:s.map(({date:o,gini:i})=>e.jsxs(O,{children:[e.jsx(c,{align:"center",children:o}),e.jsx(c,{align:"center",children:i.toFixed(4)})]},o))})]})})},Ie=l(N).withConfig({displayName:"Djinni__Container",componentId:"sc-1vfdpaf-0"})(["&.MuiPaper-root{margin:0 1rem;width:calc(100% - 2rem);}"]),O=l(T).withConfig({displayName:"Djinni__Row",componentId:"sc-1vfdpaf-1"})(["&.MuiTableRow-root{display:grid;grid-template-columns:repeat(2,1fr);}"]),Ge=l(c).withConfig({displayName:"Djinni__HCell",componentId:"sc-1vfdpaf-2"})(["&.MuiTableCell-root{",";text-align:center;}"],b),Se=({title:n,titleId:a,...s},t)=>g.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 512 512",ref:t,"aria-labelledby":a,...s},n?g.createElement("title",{id:a},n):null,g.createElement("path",{fillRule:"nonzero",d:"M256 0c70.691 0 134.695 28.656 181.021 74.979C483.344 121.305 512 185.309 512 256c0 70.691-28.656 134.695-74.979 181.018C390.695 483.344 326.691 512 256 512c-70.691 0-134.695-28.656-181.018-74.982C28.656 390.695 0 326.691 0 256S28.656 121.305 74.982 74.979C121.305 28.656 185.309 0 256 0zm-10.029 160.379c0-4.319.761-8.315 2.282-11.988 1.515-3.66 3.797-6.994 6.836-9.98 3.028-2.98 6.341-5.241 9.916-6.758 3.593-1.511 7.463-2.282 11.603-2.282 4.143 0 8.006.771 11.564 2.278 3.561 1.521 6.828 3.782 9.808 6.779 2.976 2.987 5.212 6.31 6.695 9.973 1.489 3.663 2.236 7.659 2.236 11.978 0 4.195-.739 8.128-2.229 11.767-1.483 3.631-3.709 6.993-6.692 10.046-2.965 3.043-6.232 5.342-9.79 6.878-3.569 1.528-7.432 2.306-11.592 2.306-4.259 0-8.206-.764-11.834-2.278-3.604-1.522-6.913-3.807-9.892-6.832-2.973-3.046-5.209-6.383-6.685-10.032-1.486-3.646-2.226-7.596-2.226-11.855zm13.492 179.381c-1.118 4.002-3.375 11.837 3.316 11.837 1.451 0 3.299-.81 5.5-2.412 2.387-1.721 5.125-4.336 8.192-7.799 3.116-3.53 6.362-7.701 9.731-12.507 3.358-4.795 6.888-10.292 10.561-16.419a1.39 1.39 0 011.907-.484l12.451 9.237c.593.434.729 1.262.34 1.878-5.724 9.952-11.512 18.642-17.362 26.056-5.899 7.466-11.879 13.66-17.936 18.553l-.095.07c-6.057 4.908-12.269 8.602-18.634 11.077-17.713 6.86-45.682 5.742-53.691-14.929-5.062-13.054-.897-27.885 3.085-40.651l20.089-60.852c1.286-4.617 2.912-9.682 3.505-14.439.974-7.915-2.52-13.032-11.147-13.032h-17.562a1.402 1.402 0 01-1.395-1.399l.077-.484 4.617-16.801a1.39 1.39 0 011.356-1.02l89.743-2.815a1.39 1.39 0 011.434 1.34l-.063.445-38.019 125.55zm151.324-238.547C371.178 61.606 316.446 37.101 256 37.101c-60.446 0-115.174 24.501-154.784 64.112C61.606 140.822 37.101 195.554 37.101 256c0 60.446 24.505 115.178 64.115 154.784 39.606 39.61 94.338 64.115 154.784 64.115s115.178-24.505 154.787-64.115c39.611-39.61 64.112-94.338 64.112-154.784s-24.505-115.178-64.112-154.787z"})),ve=g.forwardRef(Se),Je=()=>{const{language:n}=x(A),{TOP_PLAYERS:a,DAMAGE_DECREASE:s,ZERO_DAMAGE:t,JINNI_COEF:d,FORMULA:r,WHERE:o,COUNT:i,DAMAGE:m,AVERAGE_DAMAGE:h,AVERAGE_COUNT:u,SMALL:p,MEDIUM:E,HARD:D}=j(n),{GROW:I}=y(n),F=g.useMemo(()=>[{title:I,value:e.jsx(ge,{})},{title:a,value:e.jsx(fe,{})},{title:s,value:e.jsx(Ae,{})},{title:t,value:e.jsx(Te,{})},{title:e.jsxs(g.Fragment,{children:[d,e.jsx(te,{title:e.jsx(U,{children:e.jsxs("li",{children:[r,e.jsxs(Ve,{children:["G=",e.jsxs("span",{children:[e.jsxs("div",{children:["Σ",e.jsx("sub",{children:"i=1"}),e.jsx("sup",{className:"top-el",children:"n"})]}),e.jsxs("div",{children:["Σ",e.jsx("sub",{children:"j=1"}),e.jsx("sup",{className:"top-el",children:"n"}),"|x",e.jsx("sub",{children:"i"})," - x",e.jsx("sub",{children:"j"}),"|"]})]}),"/",e.jsxs("span",{children:["2n",e.jsx("sup",{children:"2"}),"μ, ",o,":"]})]}),e.jsxs(U,{children:[e.jsxs("li",{children:[e.jsx("b",{children:"n"})," ",i]}),e.jsxs("li",{children:[e.jsxs("b",{children:["x",e.jsx("sub",{children:"i"})]}),m," ",e.jsx("i",{children:"i"}),"."]}),e.jsxs("li",{children:[e.jsx("b",{children:"μ"})," ",h," (",e.jsx("i",{children:u}),")."]})]}),e.jsx("li",{children:p}),e.jsx("li",{children:E}),e.jsx("li",{children:D})]})}),children:e.jsx(He,{children:e.jsx(ve,{})})})]}),value:e.jsx(be,{})}],[I,a,s,t,d,r,o,i,m,h,u,p,E,D]);return e.jsxs(Le,{children:[e.jsx(ae,{}),F.map(({title:$,value:z},q)=>e.jsxs(g.Fragment,{children:[e.jsx(Pe,{children:$}),z]},q))]})},Le=l.div.withConfig({displayName:"StatisticView__Wrapper",componentId:"sc-1gq9d9h-0"})(["height:100%;overflow:auto;padding:1rem 1rem 1.5rem;"]),Pe=l.div.withConfig({displayName:"StatisticView__Title",componentId:"sc-1gq9d9h-1"})(["",";margin:1rem;display:flex;align-items:center;"],ee),U=l.ul.withConfig({displayName:"StatisticView__List",componentId:"sc-1gq9d9h-2"})(["padding:0 0 0 1rem;& + li{margin:0.5rem 0;}"]),He=l(ne).withConfig({displayName:"StatisticView__Hint",componentId:"sc-1gq9d9h-3"})(["&.MuiSvgIcon-root{cursor:pointer;fill:",";height:1rem;width:1rem;margin-left:0.5rem;animation:pulse 5s infinite;}"],({theme:n})=>n.colors.blue090),Ve=l.div.withConfig({displayName:"StatisticView__Formula",componentId:"sc-1gq9d9h-4"})(["font-family:'Courier New',Courier,monospace;display:flex;flex-direction:row;align-items:center;span{margin:0.2rem 0;display:flex;.top-el{position:relative;right:14px;}}"]);export{Je as default};
