import{r as l,u as R,s as k,a as q,l as O,g as N,b as Z,j as e,d as i,f as W,m as Y,S as $,c as z,e as U,h as E,i as Q}from"./index-DDgQJEQo.js";import{D as J,C as V,A as K,p as G,a as X,b as F,L as ee,c as ae,d as te,P as re,e as ne,i as oe}from"./index-BGSf8OVr.js";import{T as se,a as H,b as B,c as le}from"./TableRow-C19-SoTj.js";const ie={TOP_PLAYERS:"Top-5 players",OTHERS:"Others",NAME:"Nickname",DAMAGE:"Damage, Т",IMPACT:"Impact",BEST:"Best transformation",TOTAL:"Guild total",RATE:"Rate",NEW:"Newbies"},ce={TOP_PLAYERS:"Топ-5 гравців",OTHERS:"Решта",NAME:"Нік",DAMAGE:"Дамаг, Т",IMPACT:"Вклад",BEST:"Найкращий ріст",TOTAL:"Урон гільдії",RATE:"Рейтинг",NEW:"Новачки"},de={TOP_PLAYERS:"Топ-5 игроков",OTHERS:"Остальные",NAME:"Ник",DAMAGE:"Урон, Т",IMPACT:"Вклад",BEST:"Лучший рост",TOTAL:"Урон гильдии",RATE:"Рейтинг",NEW:"Новички"},pe={en:ie,uk:ce,ru:de},L=a=>pe[a],ge=({title:a,titleId:t,...r},n)=>l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:n,"aria-labelledby":t,...r},a?l.createElement("title",{id:t},a):null,l.createElement("path",{d:"M6.25 18.75C5.86 18.36 5.86 17.74 6.25 17.35L17.625 6H10.5C10.086 6 9.75 5.664 9.75 5.25C9.75 4.836 10.086 4.5 10.5 4.5H19.5C19.7656 4.5 20.0196 4.60516 20.2071 4.79264C20.3946 4.98012 20.5 5.23413 20.5 5.5V14.5C20.5 14.914 20.164 15.25 19.75 15.25C19.336 15.25 19 14.914 19 14.5V7.0607L7.375 18.75C6.985 19.14 6.365 19.14 6.25 18.75Z"})),me=l.forwardRef(ge),ue=({title:a,titleId:t,...r},n)=>l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:n,"aria-labelledby":t,...r},a?l.createElement("title",{id:t},a):null,l.createElement("path",{d:"M6.25 6.25C5.86 6.64 5.86 7.26 6.25 7.65L17.625 19H10.5C10.086 19 9.75 19.336 9.75 19.75C9.75 20.164 10.086 20.5 10.5 20.5H19.5C19.7656 20.5 20.0196 20.3948 20.2071 20.2074C20.3946 20.0199 20.5 19.7659 20.5 19.5V12.5C20.5 12.086 20.164 11.75 19.75 11.75C19.336 11.75 19 12.086 19 12.5V17.0607L7.375 6.25C6.985 5.86 6.365 5.86 6.25 6.25Z"})),he=l.forwardRef(ue),xe=()=>{var w,j;const{language:a}=R(k),t=q(),r=l.useMemo(()=>O.reduce((m,{name:v,info:_})=>{const[C,T]=_.slice(-2);if(!C||!T||C.damage===0)return m;const I=(T.damage-C.damage)/C.damage*100;return m.push({name:v,damageLastZvek:T.damage,damagePreviousZvek:C.damage,percentageChange:I}),m},[]).sort((m,v)=>v.percentageChange-m.percentageChange),[]),n=t==null?void 0:t[2],d=(n==null?void 0:n.percentageChange)??null,{rate:b=0,newbies:u=0}=((w=N)==null?void 0:w[2])||{},{rate:y=0}=((j=N)==null?void 0:j[1])||{},h=m=>m==null?null:m?e.jsx(me,{}):e.jsx(he,{}),{BEST:o}=L(a),{NO_DATA:s,GROW:c,GUILD_RATING:f,NEWBIES:p}=Z(a),x=d===null?s:`${d>0?"+":"-"}${Math.abs(d).toFixed(2)}%`,g=y-b,A=[{key:"total",value:e.jsx(M,{children:n!=null&&n.total?`${(n.total/1e12).toFixed(0)} T`:s}),isPositive:d!==null&&d>0,percent:d===0?"":x,icon:h(d!==null&&d>0),label:c},{key:"best",value:e.jsx(M,{children:r[0].name}),isPositive:r[0].percentageChange>0,percent:`+${r[0].percentageChange.toFixed(2)}%`,icon:h(r[0].percentageChange>0),label:o},{key:"rating",value:e.jsx(P,{value:g,children:b}),isPositive:g>0,percent:g===0?"":g>0?`(-${g})`:`(+${-g})`,icon:g===0?null:h(g<0),label:f},{key:"newbies",value:e.jsx(P,{value:u,children:u}),isPositive:u>0,percent:null,icon:u===0?null:h(u>0),label:p}];return e.jsx(Ce,{children:A.map(({key:m,value:v,isPositive:_,percent:C,icon:T,label:I})=>e.jsxs(be,{children:[v,C===null?e.jsx("div",{}):e.jsx(Te,{positive:_,children:C}),T===null?e.jsx("div",{}):e.jsx(ye,{positive:_,children:T}),e.jsx(we,{children:I})]},m))})},Ce=i.div.withConfig({displayName:"Bars__Wrapper",componentId:"sc-j2q81n-0"})(["display:grid;grid-template-columns:repeat(4,1fr);grid-column-gap:1rem;"]),be=i.div.withConfig({displayName:"Bars__Box",componentId:"sc-j2q81n-1"})(["display:grid;grid-template-columns:1fr auto auto;gap:0.3rem;padding:1rem 0.5rem 0.5rem 1rem;border-radius:6px;background-color:",";box-shadow:0 2px 1px -1px rgba(0,0,0,0.2),0 1px 1px 0 rgba(0,0,0,0.14),0 1px 3px 0 rgba(0,0,0,0.12);"],({theme:a})=>a.colors.gray000),we=i.div.withConfig({displayName:"Bars__Text",componentId:"sc-j2q81n-2"})(["",";white-space:nowrap;"],Y),M=i.div.withConfig({displayName:"Bars__Value",componentId:"sc-j2q81n-3"})(["",";"],W),P=i.span.withConfig({displayName:"Bars__ChangeText",componentId:"sc-j2q81n-4"})(["",";color:",";"],W,({value:a,theme:{colors:{green100:t,red100:r,gray100:n}}})=>a===null?n:a>0?t:a<0?r:n),Te=i.div.withConfig({displayName:"Bars__Percent",componentId:"sc-j2q81n-5"})(["color:",";"],({positive:a,theme:{colors:{green100:t,red100:r}}})=>a?t:r),ye=i($).withConfig({displayName:"Bars__Icon",componentId:"sc-j2q81n-6"})(["&.MuiSvgIcon-root{width:1.4rem;height:1.4rem;padding:0.2rem;background-color:",";border-radius:3px;fill:",";}"],({positive:a})=>a?"rgba(68, 217, 38, 0.15)":"rgba(235, 72, 99, 0.15)",({positive:a,theme:{colors:{green100:t,red100:r}}})=>a?t:r),S=z(["background:",";border-radius:6px;box-shadow:0 2px 1px -1px rgba(0,0,0,0.2),0 1px 1px 0 rgba(0,0,0,0.14),0 1px 3px 0 rgba(0,0,0,0.12);"],({theme:a})=>a.colors.gray000),fe=({title:a,titleId:t,...r},n)=>l.createElement("svg",{width:16,height:16,viewBox:"1 1 11 11",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t,...r},a?l.createElement("title",{id:t},a):null,l.createElement("path",{d:"M3.64645 11.3536C3.45118 11.1583 3.45118 10.8417 3.64645 10.6465L10.2929 4L6 4C5.72386 4 5.5 3.77614 5.5 3.5C5.5 3.22386 5.72386 3 6 3L11.5 3C11.6326 3 11.7598 3.05268 11.8536 3.14645C11.9473 3.24022 12 3.36739 12 3.5L12 9.00001C12 9.27615 11.7761 9.50001 11.5 9.50001C11.2239 9.50001 11 9.27615 11 9.00001V4.70711L4.35355 11.3536C4.15829 11.5488 3.84171 11.5488 3.64645 11.3536Z"})),D=l.forwardRef(fe);V.register(K,G,X,F);const ve=()=>{const{language:a}=R(k),t=U(),{NAME:r,TOTAL:n,DAMAGE:d,IMPACT:b,TOP_PLAYERS:u,OTHERS:y}=L(a),h=l.useMemo(()=>O.map(({name:p,info:x})=>({name:p,damage:x[x.length-1].damage,guildTotal:x[x.length-1].guildTotal})),[]),o=E(5)[2].guildTotal,s=E(5)[2].topDamagePercentage,c={labels:[u,y],datasets:[{data:[s*o,(100-s)*o],backgroundColor:["rgba(72, 99, 235, 0.7)","rgba(68, 217, 38, 0.7)"],hoverOffset:4}]},f=[r,d,b,""];return e.jsxs(je,{children:[e.jsxs(_e,{children:[e.jsx(Ae,{children:e.jsx(J,{data:c})}),e.jsxs(Ie,{children:[n,": ",(E(5)[2].guildTotal/1e12).toFixed(2)," T"]}),e.jsx(Ne,{onClick:()=>t("/main"),children:e.jsx(D,{})})]}),e.jsx(Ee,{children:e.jsxs(se,{children:[e.jsx(H,{children:f.map(p=>e.jsx(B,{align:"center",children:e.jsx("b",{children:p})},p))}),e.jsx(le,{children:E(5)[2].topPlayers.map((p,x)=>{const g=h.find(w=>w.name===p)||{damage:0,guildTotal:1},A=[p,(g.damage/1e12).toFixed(2),`${(g.damage/g.guildTotal*100).toFixed(2)}%`,e.jsx(D,{})];return e.jsx(Re,{onClick:()=>t(`/details/${p}`),children:A.map((w,j)=>e.jsx(B,{align:"center",children:w},j))},x)})})]})})]})},je=i.div.withConfig({displayName:"Tops__Wrapper",componentId:"sc-1r8wey0-0"})(["display:grid;grid-gap:1rem;grid-template-columns:calc(35% - 0.5rem) calc(65% - 0.5rem);"]),_e=i.div.withConfig({displayName:"Tops__ChartBlock",componentId:"sc-1r8wey0-1"})(["",";position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;"],S),Ee=i.div.withConfig({displayName:"Tops__TopsTable",componentId:"sc-1r8wey0-2"})(["",";height:100%;display:flex;"],S),Ae=i.div.withConfig({displayName:"Tops__DoughnutWrapper",componentId:"sc-1r8wey0-3"})(["width:300px;display:flex;justify-content:center;"]),Ie=i.div.withConfig({displayName:"Tops__Text",componentId:"sc-1r8wey0-4"})(["",";margin-top:0.5rem;text-align:center;"],Q),Ne=i($).withConfig({displayName:"Tops__Icon",componentId:"sc-1r8wey0-5"})(["&.MuiSvgIcon-root{cursor:pointer;position:absolute;top:1rem;right:1rem;}"]),Re=i(H).withConfig({displayName:"Tops__Row",componentId:"sc-1r8wey0-6"})(["&.MuiTableRow-root{position:relative;cursor:pointer;&:hover{background-color:rgba(83,158,236,0.6);}}"]);V.register(ae,te,re,ne,F,G,oe);const ke=()=>{const{language:a}=R(k),t=l.useMemo(()=>N.reduce((o,{date:s,total:c,rate:f,newbies:p})=>(o.labels.push(s),o.total.push(c),o.rate.push(f),o.newbies.push(p),o),{labels:[],total:[],rate:[],newbies:[]}),[]),r=l.useCallback((o,s)=>{if(!o)return s;const c=o.createLinearGradient(0,0,0,250);return c.addColorStop(0,s),c.addColorStop(1,"rgba(255, 255, 255, .4)"),c},[]),n=l.useCallback((o,s,c)=>({labels:t.labels,datasets:[{label:"value",data:s,borderColor:c,backgroundColor:r(o,c),tension:.3,fill:!0,pointBackgroundColor:c}]}),[t.labels,r]),d=o=>{const s="rgb(238 238 238)";return{scales:{x:{display:!0,grid:{color:s},border:{color:s}},y:{display:!0,grid:{color:s},border:{color:s}}},animation:{duration:2500,easing:"easeInOutQuart"},responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:o}}}},{TOTAL:b,RATE:u,NEW:y}=L(a),h=[{key:"total",color:"rgba(72, 99, 235, 0.7)",title:b},{key:"rate",color:"rgba(68, 217, 38, 0.7)",title:u},{key:"newbies",color:"rgba(235, 72, 99, 0.7)",title:y}];return e.jsx(Le,{children:h.map(({key:o,color:s,title:c})=>e.jsx(Se,{children:e.jsx(ee,{data:n(document.createElement("canvas").getContext("2d"),t[o],s),options:d(c)})},o))})},Le=i.div.withConfig({displayName:"Charts__Wrapper",componentId:"sc-7u0j1s-0"})(["display:grid;grid-template-columns:repeat(3,calc(33% - 0.5rem));grid-column-gap:1rem;"]),Se=i.div.withConfig({displayName:"Charts__Chart",componentId:"sc-7u0j1s-1"})(["",";background:",";border-radius:12px;padding-left:0.5rem;align-items:center;display:flex;"],S,({theme:a})=>a.colors.gray000),Oe=()=>e.jsxs(Be,{children:[e.jsx(xe,{}),e.jsx(ve,{}),e.jsx(ke,{})]}),Be=i.div.withConfig({displayName:"DashboardView__Wrapper",componentId:"sc-18nsio5-0"})(["height:100vh;padding:1rem 1rem 1.5rem;display:grid;grid-template-rows:calc(15% - 2rem) calc(58% - 2rem) auto;grid-row-gap:1rem;"]);export{Oe as default};
